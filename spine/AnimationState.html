<!DOCTYPE html>
<html lang="en"><!-- use theme color or fallback -->
<!--use textcolor from settings, otherwise create a contrasting color to theme color-->
<head><meta charset="utf-8"/><link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../jquery-1.9.1.min.js"></script><script src="../bootstrap/js/bootstrap.min.js"></script><script src="../bootstrap/js/bootstrap-select.min.js"></script><link href="../styles.css" rel="stylesheet"/><link href="../extra-styles.css" rel="stylesheet"/><link href="../haxe-nav.css" rel="stylesheet"/><script>var dox = {rootPath: "../",platforms: ["interp"]};</script><script src="../nav.js"></script><script src="../index.js"></script><link rel="icon" href="../favicon.ico" type="image/x-icon"/><title>spine.AnimationState - Framework-agnostic Spine run-time for Haxe</title><meta name="description" content="Applies animations over time, queues animations for later playback, mixes (crossfading) between animations, and applies
multiple animations on top of each other (layering)."/></head><body><style>
.navbar .brand {
	display: inline-block;
	float: none;
	text-shadow: 0 0 0 transparent;
</style><nav class="nav"><div class="navbar"><div class="navbar-inner" style="background:#FAFAFA; border-bottom:1px solid rgba(0,0,0,.09)"><div class="container"><a class="brand" style="color:#000000" href="../">Framework-agnostic Spine run-time for Haxe</a></div></div></div></nav><div class="container main-content"><div class="row-fluid"><div class="span3"><div class="well sidebar-nav"><form class="form-search" id="searchForm"><div class="input-prepend input-block-level"><span class="add-on"><i class="icon-search"></i></span><input id="search" type="text" placeholder="Filter (Ctrl+P)" autocomplete="off"/></div></form></div><div class="well sidebar-nav" id="explorer"><div id="nav"></div></div></div><div class="span9"><div class="page-header"><span class="viewsource"><a href="https://github.com/nadako/hxspine/blob/master/src/spine/AnimationState.hx" class="btn btn-medium"><i class="fa fa-eye"></i> View source</a></span><h1><small>class</small> AnimationState</h1><h4><small>package <a href="../index.html">spine</a></small></h4>    <span class="label label-meta label-meta-access" title="Forces private access to package, type or field.">@:access(spine.TrackEntry)</span></div><div class="body"><div class="doc doc-main"><p>Applies animations over time, queues animations for later playback, mixes (crossfading) between animations, and applies
multiple animations on top of each other (layering).</p>
<p>See <a href="http://esotericsoftware.com/spine-applying-animations/">Applying Animations</a> in the Spine Runtimes Guide.</p></div><h3 class="section">Constructor</h3><div class="fields"><div class="field "><a name="new"></a><h3 class="anchor"><code><a href="#new"><span class="identifier">new</span></a>(<span style="white-space:nowrap">data:<a class="type" title="spine.AnimationStateData - Stores mix (crossfade) durations to be applied when AnimationState animations are changed." href="../spine/AnimationStateData.html">AnimationStateData</a></span>)</code></h3><div class="doc"><p></p></div></div></div><h3 class="section">Variables</h3><div class="fields"><div class="field "><a name="data"></a><h3 class="anchor"><code><a href="#data"><span class="identifier">data</span></a>:<a class="type" title="spine.AnimationStateData - Stores mix (crossfade) durations to be applied when AnimationState animations are changed." href="../spine/AnimationStateData.html">AnimationStateData</a></code></h3><div class="doc"><p>The AnimationStateData to look up mix durations.</p></div></div><div class="field "><a name="timeScale"></a><h3 class="anchor"><code><span class="label label-meta label-meta-value" title="Used to store default values for fields and function arguments.">@:value(1.0)</span><a href="#timeScale"><span class="identifier">timeScale</span></a>:<span class="type">Float</span><span> = 1.0</span></code></h3><div class="doc"><p>Multiplier for the delta time when the animation state is updated, causing time for all animations and mixes to play slower
or faster. Defaults to 1.</p>
<p>See TrackEntry <code><a href="../spine/TrackEntry.html#timeScale">TrackEntry.timeScale</a></code> for affecting a single animation.</p></div></div><div class="field "><a name="tracks"></a><h3 class="anchor"><code><span class="label label-meta label-meta-value" title="Used to store default values for fields and function arguments.">@:value(new Array&lt;Null&lt;TrackEntry&gt;&gt;())</span><span class="label label-final">final</span><a href="#tracks"><span class="identifier">tracks</span></a>:<span class="type">Array</span>&lt;<span class="type">Null</span>&lt;<a class="type" title="spine.TrackEntry - Stores settings and other state for the playback of an animation on an AnimationState track." href="../spine/TrackEntry.html">TrackEntry</a>&gt;&gt;<span> = new Array&lt;Null&lt;TrackEntry&gt;&gt;()</span></code></h3><div class="doc"><p>The list of tracks that currently have animations, which may contain null entries.</p></div></div></div><h3 class="section">Methods</h3><div class="fields"><div class="field "><a name="addAnimation"></a><h3 class="anchor"><code><a href="#addAnimation"><span class="identifier">addAnimation</span></a>(<span style="white-space:nowrap">trackIndex:<span class="type">Int</span>,</span> <span style="white-space:nowrap">animationName:<span class="type">String</span>,</span> <span style="white-space:nowrap">loop:<span class="type">Bool</span>,</span> <span style="white-space:nowrap">delay:<span class="type">Float</span></span>):<a class="type" title="spine.TrackEntry - Stores settings and other state for the playback of an animation on an AnimationState track." href="../spine/TrackEntry.html">TrackEntry</a></code></h3><div class="doc"><p>Queues an animation by name.</p><p class="javadoc">See also:</p><ul><li><div class="inline-content"><p><code>addAnimationWith</code>.</p></div></li></ul></div></div><div class="field "><a name="addAnimationWith"></a><h3 class="anchor"><code><a href="#addAnimationWith"><span class="identifier">addAnimationWith</span></a>(<span style="white-space:nowrap">trackIndex:<span class="type">Int</span>,</span> <span style="white-space:nowrap">animation:<a class="type" title="spine.Animation - A simple container for a list of timelines and a name." href="../spine/Animation.html">Animation</a>,</span> <span style="white-space:nowrap">loop:<span class="type">Bool</span>,</span> <span style="white-space:nowrap">delay:<span class="type">Float</span></span>):<a class="type" title="spine.TrackEntry - Stores settings and other state for the playback of an animation on an AnimationState track." href="../spine/TrackEntry.html">TrackEntry</a></code></h3><div class="doc"><p>Adds an animation to be played after the current or last queued animation for a track. If the track is empty, it is
equivalent to calling <code>setAnimationWith</code>.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>delay</code></th><td><p>If > 0, sets <code><a href="../spine/TrackEntry.html#delay">TrackEntry.delay</a></code>. If &lt;= 0, the delay set is the duration of the previous track entry
minus any mix duration (from the <code><a href="../spine/AnimationStateData.html#AnimationStateData">AnimationStateData</a></code>) plus the specified <code>delay</code> (ie the mix
ends at (<code>delay</code> = 0) or before (<code>delay</code> &lt; 0) the previous track entry duration). If the
previous entry is looping, its next loop completion is used instead of its duration.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>A track entry to allow further customization of animation playback. References to the track entry must not be kept
after the <code><a href="../spine/AnimationStateListener.html#dispose">AnimationStateListener.dispose</a></code> event occurs.</p></div></div></div><div class="field "><a name="addEmptyAnimation"></a><h3 class="anchor"><code><a href="#addEmptyAnimation"><span class="identifier">addEmptyAnimation</span></a>(<span style="white-space:nowrap">trackIndex:<span class="type">Int</span>,</span> <span style="white-space:nowrap">mixDuration:<span class="type">Float</span>,</span> <span style="white-space:nowrap">delay:<span class="type">Float</span></span>):<a class="type" title="spine.TrackEntry - Stores settings and other state for the playback of an animation on an AnimationState track." href="../spine/TrackEntry.html">TrackEntry</a></code></h3><div class="doc"><p>Adds an empty animation to be played after the current or last queued animation for a track, and sets the track entry's
<code><a href="../spine/TrackEntry.html#mixDuration">TrackEntry.mixDuration</a></code>. If the track is empty, it is equivalent to calling <code>setEmptyAnimation</code>.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>delay</code></th><td><p>If > 0, sets <code><a href="../spine/TrackEntry.html#delay">TrackEntry.delay</a></code>. If &lt;= 0, the delay set is the duration of the previous track entry
minus any mix duration plus the specified <code>delay</code> (ie the mix ends at (<code>delay</code> = 0) or
before (<code>delay</code> &lt; 0) the previous track entry duration). If the previous entry is looping, its next
loop completion is used instead of its duration.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>A track entry to allow further customization of animation playback. References to the track entry must not be kept
after the <code><a href="../spine/AnimationStateListener.html#dispose">AnimationStateListener.dispose</a></code> event occurs.</p></div><p class="javadoc">See also:</p><ul><li><div class="inline-content"><p><code>setEmptyAnimation</code>.</p></div></li></ul></div></div><div class="field "><a name="addListener"></a><h3 class="anchor"><code><a href="#addListener"><span class="identifier">addListener</span></a>(<span style="white-space:nowrap">listener:<a class="type" title="spine.AnimationStateListener - The interface to implement for receiving TrackEntry events." href="../spine/AnimationStateListener.html">AnimationStateListener</a></span>):<span class="type">Void</span></code></h3><div class="doc"><p>Adds a listener to receive events for all track entries.</p></div></div><div class="field "><a name="apply"></a><h3 class="anchor"><code><a href="#apply"><span class="identifier">apply</span></a>(<span style="white-space:nowrap">skeleton:<a class="type" title="spine.Skeleton - Stores the current pose for a skeleton." href="../spine/Skeleton.html">Skeleton</a></span>):<span class="type">Bool</span></code></h3><div class="doc"><p>Poses the skeleton using the track entry animations. There are no side effects other than invoking listeners, so the
animation state can be applied to multiple skeletons to pose them identically.</p><p class="javadoc">Returns:</p><div class="indent inline-content"><p>True if any animations were applied.</p></div></div></div><div class="field "><a name="clearListenerNotifications"></a><h3 class="anchor"><code><a href="#clearListenerNotifications"><span class="identifier">clearListenerNotifications</span></a>():<span class="type">Void</span></code></h3><div class="doc"><p>Discards all listener notifications that have not yet been delivered. This can be useful to call from an
<code><a href="../spine/AnimationStateListener.html#AnimationStateListener">AnimationStateListener</a></code> when it is known that further notifications that may have been already queued for delivery
are not wanted because new animations are being set.</p></div></div><div class="field "><a name="clearListeners"></a><h3 class="anchor"><code><a href="#clearListeners"><span class="identifier">clearListeners</span></a>():<span class="type">Void</span></code></h3><div class="doc"><p>Removes all listeners added with <code>addListener</code>.</p></div></div><div class="field "><a name="clearTrack"></a><h3 class="anchor"><code><a href="#clearTrack"><span class="identifier">clearTrack</span></a>(<span style="white-space:nowrap">trackIndex:<span class="type">Int</span></span>):<span class="type">Void</span></code></h3><div class="doc"><p>Removes all animations from the track, leaving skeletons in their current pose.</p>
<p>It may be desired to use <code><a href="../spine/AnimationState.html#setEmptyAnimation">AnimationState.setEmptyAnimation</a></code> to mix the skeletons back to the setup pose,
rather than leaving them in their current pose.</p></div></div><div class="field "><a name="clearTracks"></a><h3 class="anchor"><code><a href="#clearTracks"><span class="identifier">clearTracks</span></a>():<span class="type">Void</span></code></h3><div class="doc"><p>Removes all animations from all tracks, leaving skeletons in their current pose.</p>
<p>It may be desired to use <code><a href="../spine/AnimationState.html#setEmptyAnimation">AnimationState.setEmptyAnimation</a></code> to mix the skeletons back to the setup pose,
rather than leaving them in their current pose.</p></div></div><div class="field "><a name="getCurrent"></a><h3 class="anchor"><code><a href="#getCurrent"><span class="identifier">getCurrent</span></a>(<span style="white-space:nowrap">trackIndex:<span class="type">Int</span></span>):<span class="type">Null</span>&lt;<a class="type" title="spine.TrackEntry - Stores settings and other state for the playback of an animation on an AnimationState track." href="../spine/TrackEntry.html">TrackEntry</a>&gt;</code></h3><div class="doc"><p>Returns the track entry for the animation currently playing on the track, or null if no animation is currently playing.</p></div></div><div class="field "><a name="removeListener"></a><h3 class="anchor"><code><a href="#removeListener"><span class="identifier">removeListener</span></a>(<span style="white-space:nowrap">listener:<a class="type" title="spine.AnimationStateListener - The interface to implement for receiving TrackEntry events." href="../spine/AnimationStateListener.html">AnimationStateListener</a></span>):<span class="type">Void</span></code></h3><div class="doc"><p>Removes the listener added with <code>addListener</code>.</p></div></div><div class="field "><a name="setAnimation"></a><h3 class="anchor"><code><a href="#setAnimation"><span class="identifier">setAnimation</span></a>(<span style="white-space:nowrap">trackIndex:<span class="type">Int</span>,</span> <span style="white-space:nowrap">animationName:<span class="type">String</span>,</span> <span style="white-space:nowrap">loop:<span class="type">Bool</span></span>):<a class="type" title="spine.TrackEntry - Stores settings and other state for the playback of an animation on an AnimationState track." href="../spine/TrackEntry.html">TrackEntry</a></code></h3><div class="doc"><p>Sets an animation by name.</p><p class="javadoc">See also:</p><ul><li><div class="inline-content"><p><code>setAnimationWith</code>.</p></div></li></ul></div></div><div class="field "><a name="setAnimationWith"></a><h3 class="anchor"><code><a href="#setAnimationWith"><span class="identifier">setAnimationWith</span></a>(<span style="white-space:nowrap">trackIndex:<span class="type">Int</span>,</span> <span style="white-space:nowrap">animation:<a class="type" title="spine.Animation - A simple container for a list of timelines and a name." href="../spine/Animation.html">Animation</a>,</span> <span style="white-space:nowrap">loop:<span class="type">Bool</span></span>):<a class="type" title="spine.TrackEntry - Stores settings and other state for the playback of an animation on an AnimationState track." href="../spine/TrackEntry.html">TrackEntry</a></code></h3><div class="doc"><p>Sets the current animation for a track, discarding any queued animations. If the formerly current track entry was never
applied to a skeleton, it is replaced (not mixed from).</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>loop</code></th><td><p>If true, the animation will repeat. If false it will not, instead its last frame is applied if played beyond its
duration. In either case <code><a href="../spine/TrackEntry.html#trackEnd">TrackEntry.trackEnd</a></code> determines when the track is cleared.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>A track entry to allow further customization of animation playback. References to the track entry must not be kept
after the <code><a href="../spine/AnimationStateListener.html#dispose">AnimationStateListener.dispose</a></code> event occurs.</p></div></div></div><div class="field "><a name="setEmptyAnimation"></a><h3 class="anchor"><code><a href="#setEmptyAnimation"><span class="identifier">setEmptyAnimation</span></a>(<span style="white-space:nowrap">trackIndex:<span class="type">Int</span>,</span> <span style="white-space:nowrap">mixDuration:<span class="type">Float</span></span>):<a class="type" title="spine.TrackEntry - Stores settings and other state for the playback of an animation on an AnimationState track." href="../spine/TrackEntry.html">TrackEntry</a></code></h3><div class="doc"><p>Sets an empty animation for a track, discarding any queued animations, and sets the track entry's
<code><a href="../spine/TrackEntry.html#mixduration">TrackEntry.mixduration</a></code>. An empty animation has no timelines and serves as a placeholder for mixing in or out.</p>
<p>Mixing out is done by setting an empty animation with a mix duration using either <code>setEmptyAnimation</code>,
<code>setEmptyAnimations</code>, or <code>addEmptyAnimation</code>. Mixing to an empty animation causes
the previous animation to be applied less and less over the mix duration. Properties keyed in the previous animation
transition to the value from lower tracks or to the setup pose value if no lower tracks key the property. A mix duration of
0 still mixes out over one frame.</p>
<p>Mixing in is done by first setting an empty animation, then adding an animation using
<code>addAnimation</code> and on the returned track entry, set the
<code><a href="../spine/TrackEntry.html#mixDuration">TrackEntry.mixDuration</a></code>. Mixing from an empty animation causes the new animation to be applied more and
more over the mix duration. Properties keyed in the new animation transition from the value from lower tracks or from the
setup pose value if no lower tracks key the property to the value keyed in the new animation.</p></div></div><div class="field "><a name="setEmptyAnimations"></a><h3 class="anchor"><code><a href="#setEmptyAnimations"><span class="identifier">setEmptyAnimations</span></a>(<span style="white-space:nowrap">mixDuration:<span class="type">Float</span></span>):<span class="type">Void</span></code></h3><div class="doc"><p>Sets an empty animation for every track, discarding any queued animations, and mixes to it over the specified mix
duration.</p></div></div><div class="field "><a name="update"></a><h3 class="anchor"><code><a href="#update"><span class="identifier">update</span></a>(<span style="white-space:nowrap">delta:<span class="type">Float</span></span>):<span class="type">Void</span></code></h3><div class="doc"><p>Increments each track entry <code><a href="../spine/TrackEntry.html#trackTime">TrackEntry.trackTime</a></code>, setting queued animations as current if needed.</p></div></div></div></div></div></div></div><footer class="section site-footer" style="background:#FAFAFA"><div class="container"><div class="copyright"><p style="color:#000000">&copy; 2021 &nbsp;</p></div></div></footer><script src="..//highlighter.js"></script><link href="../highlighter.css" rel="stylesheet"/></body></html>